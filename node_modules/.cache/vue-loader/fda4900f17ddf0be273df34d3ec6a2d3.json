{"remainingRequest":"C:\\Users\\dell\\Desktop\\Full_Version\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\dell\\Desktop\\Full_Version\\src\\components\\featured\\maps\\index.vue?vue&type=style&index=0&id=1654a47b&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\dell\\Desktop\\Full_Version\\src\\components\\featured\\maps\\index.vue","mtime":1659970056278},{"path":"C:\\Users\\dell\\Desktop\\Full_Version\\node_modules\\css-loader\\dist\\cjs.js","mtime":1659972865126},{"path":"C:\\Users\\dell\\Desktop\\Full_Version\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1659972866505},{"path":"C:\\Users\\dell\\Desktop\\Full_Version\\node_modules\\postcss-loader\\src\\index.js","mtime":1659972865655},{"path":"C:\\Users\\dell\\Desktop\\Full_Version\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1659972864654},{"path":"C:\\Users\\dell\\Desktop\\Full_Version\\node_modules\\vue-loader\\lib\\index.js","mtime":1659972866064}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLm1hcHMgewogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogNDAwcHg7Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsJA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/featured/maps","sourcesContent":["<template>\n  <div>\n    <GmapMap\n      ref=\"mapRef\"\n      :center=\"center\"\n      :zoom=\"zoom\"\n      :options=\"{\n        fullscreenControl: false,\n      }\"\n      map-type-id=\"hybrid\"\n      class=\"maps\"\n      @click=\"handleClick\"\n    >\n      <gmap-marker\n        v-for=\"(event, index) in events\"\n        :key=\"index\"\n        :position=\"event.position\"\n        :clickable=\"true\"\n        :icon=\"getMarkerIcon(event)\"\n        @mouseover=\"openInfoWindowTemplate(event)\"\n      ></gmap-marker>\n\n      <info-window\n        :infoWindow=\"infoWindow\"\n        :event=\"event\"\n        v-if=\"event\"\n        @view-event=\"handleViewEvent\"\n      />\n    </GmapMap>\n    <event-data\n      ref=\"event-data\"\n      :key=\"event.id\"\n      v-if=\"event\"\n      :eventProp=\"event\"\n      @add-to-comparaison=\"handleAddToComparaison\"\n      @update-events=\"$emit('update-events')\"\n    />\n  </div>\n</template>\n\n<script>\nvar $ = window.$\n\nimport {\n  RED_MARKER_IMAGE,\n  GREEN_MARKER_IMAGE,\n  BLUE_MARKER_IMAGE,\n  ARROW_DOWN_GREEN_IMAGE,\n  ARROW_DOWN_RED_IMAGE,\n} from '@/constants'\nimport InfoWindow from './info-window'\nimport EventData from '@/components/event/data'\n\nexport default {\n  components: { InfoWindow, EventData },\n  props: {\n    zoom: {\n      type: Number,\n      default: 12,\n    },\n    center: {\n      type: Object,\n    },\n    events: {\n      type: Array,\n      default() {\n        return []\n      },\n    },\n  },\n  data() {\n    return {\n      loaded: false,\n      infoWindow: {\n        position: { lat: 0, lng: 0 },\n        open: false,\n      },\n      event: {},\n    }\n  },\n  name: 'Maps',\n  mounted() {\n    this.$refs.mapRef.$mapPromise.then((map) => {\n      this.loaded = true\n      this.$emit('map-loaded', map)\n    })\n  },\n  methods: {\n    toggleModal() {\n      $('#myModal').modal('toggle')\n    },\n    openInfoWindowTemplate(marker) {\n      this.infoWindow.position = marker.position\n      this.infoWindow.open = true\n      this.event = marker.data\n    },\n    handleClick($event) {\n      const latitude = $event.latLng.lat()\n      const longitude = $event.latLng.lng()\n      this.$emit('position-marked', {\n        latitude,\n        longitude,\n      })\n      this.events.push({\n        position: { lat: latitude, lng: longitude },\n      })\n    },\n    handleViewEvent() {\n      this.$refs['event-data'].handleToggleModal()\n    },\n    handleAddToComparaison($event) {\n      this.$emit('add-to-comparaison', $event)\n    },\n    getMarkerIcon({ data }) {\n      const event = data\n      if (event && event.type === 'cultural') {\n        const { latitude, longitude } = this.$route.query\n        if (\n          latitude !== undefined &&\n          longitude !== undefined &&\n          event &&\n          event.latitude !== undefined &&\n          event.longitude !== undefined &&\n          event.longitude == longitude &&\n          event.latitude == latitude\n        ) {\n          return ARROW_DOWN_RED_IMAGE\n        }\n        return RED_MARKER_IMAGE\n      } else if (event && event.type !== undefined) {\n        const { latitude, longitude } = this.$route.query\n        if (\n          latitude !== undefined &&\n          longitude !== undefined &&\n          event.latitude !== undefined &&\n          event.longitude !== undefined &&\n          event.longitude == longitude &&\n          event.latitude == latitude\n        ) {\n          return ARROW_DOWN_GREEN_IMAGE\n        }\n        return GREEN_MARKER_IMAGE\n      }\n      return BLUE_MARKER_IMAGE\n    },\n  },\n}\n</script>\n\n<style scoped>\n.maps {\n  width: 100%;\n  height: 400px;\n}\n</style>\n"]}]}