{"remainingRequest":"C:\\Users\\dell\\Desktop\\Full_Version\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\dell\\Desktop\\Full_Version\\src\\components\\featured\\maps\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\dell\\Desktop\\Full_Version\\src\\components\\featured\\maps\\index.vue","mtime":1659970056278},{"path":"C:\\Users\\dell\\Desktop\\Full_Version\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1659972864654},{"path":"C:\\Users\\dell\\Desktop\\Full_Version\\node_modules\\babel-loader\\lib\\index.js","mtime":1659972865660},{"path":"C:\\Users\\dell\\Desktop\\Full_Version\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1659972864654},{"path":"C:\\Users\\dell\\Desktop\\Full_Version\\node_modules\\vue-loader\\lib\\index.js","mtime":1659972866064}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCnZhciAkID0gd2luZG93LiQKCmltcG9ydCB7CiAgUkVEX01BUktFUl9JTUFHRSwKICBHUkVFTl9NQVJLRVJfSU1BR0UsCiAgQkxVRV9NQVJLRVJfSU1BR0UsCiAgQVJST1dfRE9XTl9HUkVFTl9JTUFHRSwKICBBUlJPV19ET1dOX1JFRF9JTUFHRSwKfSBmcm9tICdAL2NvbnN0YW50cycKaW1wb3J0IEluZm9XaW5kb3cgZnJvbSAnLi9pbmZvLXdpbmRvdycKaW1wb3J0IEV2ZW50RGF0YSBmcm9tICdAL2NvbXBvbmVudHMvZXZlbnQvZGF0YScKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7IEluZm9XaW5kb3csIEV2ZW50RGF0YSB9LAogIHByb3BzOiB7CiAgICB6b29tOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMTIsCiAgICB9LAogICAgY2VudGVyOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgIH0sCiAgICBldmVudHM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFtdCiAgICAgIH0sCiAgICB9LAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvYWRlZDogZmFsc2UsCiAgICAgIGluZm9XaW5kb3c6IHsKICAgICAgICBwb3NpdGlvbjogeyBsYXQ6IDAsIGxuZzogMCB9LAogICAgICAgIG9wZW46IGZhbHNlLAogICAgICB9LAogICAgICBldmVudDoge30sCiAgICB9CiAgfSwKICBuYW1lOiAnTWFwcycsCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuJHJlZnMubWFwUmVmLiRtYXBQcm9taXNlLnRoZW4oKG1hcCkgPT4gewogICAgICB0aGlzLmxvYWRlZCA9IHRydWUKICAgICAgdGhpcy4kZW1pdCgnbWFwLWxvYWRlZCcsIG1hcCkKICAgIH0pCiAgfSwKICBtZXRob2RzOiB7CiAgICB0b2dnbGVNb2RhbCgpIHsKICAgICAgJCgnI215TW9kYWwnKS5tb2RhbCgndG9nZ2xlJykKICAgIH0sCiAgICBvcGVuSW5mb1dpbmRvd1RlbXBsYXRlKG1hcmtlcikgewogICAgICB0aGlzLmluZm9XaW5kb3cucG9zaXRpb24gPSBtYXJrZXIucG9zaXRpb24KICAgICAgdGhpcy5pbmZvV2luZG93Lm9wZW4gPSB0cnVlCiAgICAgIHRoaXMuZXZlbnQgPSBtYXJrZXIuZGF0YQogICAgfSwKICAgIGhhbmRsZUNsaWNrKCRldmVudCkgewogICAgICBjb25zdCBsYXRpdHVkZSA9ICRldmVudC5sYXRMbmcubGF0KCkKICAgICAgY29uc3QgbG9uZ2l0dWRlID0gJGV2ZW50LmxhdExuZy5sbmcoKQogICAgICB0aGlzLiRlbWl0KCdwb3NpdGlvbi1tYXJrZWQnLCB7CiAgICAgICAgbGF0aXR1ZGUsCiAgICAgICAgbG9uZ2l0dWRlLAogICAgICB9KQogICAgICB0aGlzLmV2ZW50cy5wdXNoKHsKICAgICAgICBwb3NpdGlvbjogeyBsYXQ6IGxhdGl0dWRlLCBsbmc6IGxvbmdpdHVkZSB9LAogICAgICB9KQogICAgfSwKICAgIGhhbmRsZVZpZXdFdmVudCgpIHsKICAgICAgdGhpcy4kcmVmc1snZXZlbnQtZGF0YSddLmhhbmRsZVRvZ2dsZU1vZGFsKCkKICAgIH0sCiAgICBoYW5kbGVBZGRUb0NvbXBhcmFpc29uKCRldmVudCkgewogICAgICB0aGlzLiRlbWl0KCdhZGQtdG8tY29tcGFyYWlzb24nLCAkZXZlbnQpCiAgICB9LAogICAgZ2V0TWFya2VySWNvbih7IGRhdGEgfSkgewogICAgICBjb25zdCBldmVudCA9IGRhdGEKICAgICAgaWYgKGV2ZW50ICYmIGV2ZW50LnR5cGUgPT09ICdjdWx0dXJhbCcpIHsKICAgICAgICBjb25zdCB7IGxhdGl0dWRlLCBsb25naXR1ZGUgfSA9IHRoaXMuJHJvdXRlLnF1ZXJ5CiAgICAgICAgaWYgKAogICAgICAgICAgbGF0aXR1ZGUgIT09IHVuZGVmaW5lZCAmJgogICAgICAgICAgbG9uZ2l0dWRlICE9PSB1bmRlZmluZWQgJiYKICAgICAgICAgIGV2ZW50ICYmCiAgICAgICAgICBldmVudC5sYXRpdHVkZSAhPT0gdW5kZWZpbmVkICYmCiAgICAgICAgICBldmVudC5sb25naXR1ZGUgIT09IHVuZGVmaW5lZCAmJgogICAgICAgICAgZXZlbnQubG9uZ2l0dWRlID09IGxvbmdpdHVkZSAmJgogICAgICAgICAgZXZlbnQubGF0aXR1ZGUgPT0gbGF0aXR1ZGUKICAgICAgICApIHsKICAgICAgICAgIHJldHVybiBBUlJPV19ET1dOX1JFRF9JTUFHRQogICAgICAgIH0KICAgICAgICByZXR1cm4gUkVEX01BUktFUl9JTUFHRQogICAgICB9IGVsc2UgaWYgKGV2ZW50ICYmIGV2ZW50LnR5cGUgIT09IHVuZGVmaW5lZCkgewogICAgICAgIGNvbnN0IHsgbGF0aXR1ZGUsIGxvbmdpdHVkZSB9ID0gdGhpcy4kcm91dGUucXVlcnkKICAgICAgICBpZiAoCiAgICAgICAgICBsYXRpdHVkZSAhPT0gdW5kZWZpbmVkICYmCiAgICAgICAgICBsb25naXR1ZGUgIT09IHVuZGVmaW5lZCAmJgogICAgICAgICAgZXZlbnQubGF0aXR1ZGUgIT09IHVuZGVmaW5lZCAmJgogICAgICAgICAgZXZlbnQubG9uZ2l0dWRlICE9PSB1bmRlZmluZWQgJiYKICAgICAgICAgIGV2ZW50LmxvbmdpdHVkZSA9PSBsb25naXR1ZGUgJiYKICAgICAgICAgIGV2ZW50LmxhdGl0dWRlID09IGxhdGl0dWRlCiAgICAgICAgKSB7CiAgICAgICAgICByZXR1cm4gQVJST1dfRE9XTl9HUkVFTl9JTUFHRQogICAgICAgIH0KICAgICAgICByZXR1cm4gR1JFRU5fTUFSS0VSX0lNQUdFCiAgICAgIH0KICAgICAgcmV0dXJuIEJMVUVfTUFSS0VSX0lNQUdFCiAgICB9LAogIH0sCn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/featured/maps","sourcesContent":["<template>\n  <div>\n    <GmapMap\n      ref=\"mapRef\"\n      :center=\"center\"\n      :zoom=\"zoom\"\n      :options=\"{\n        fullscreenControl: false,\n      }\"\n      map-type-id=\"hybrid\"\n      class=\"maps\"\n      @click=\"handleClick\"\n    >\n      <gmap-marker\n        v-for=\"(event, index) in events\"\n        :key=\"index\"\n        :position=\"event.position\"\n        :clickable=\"true\"\n        :icon=\"getMarkerIcon(event)\"\n        @mouseover=\"openInfoWindowTemplate(event)\"\n      ></gmap-marker>\n\n      <info-window\n        :infoWindow=\"infoWindow\"\n        :event=\"event\"\n        v-if=\"event\"\n        @view-event=\"handleViewEvent\"\n      />\n    </GmapMap>\n    <event-data\n      ref=\"event-data\"\n      :key=\"event.id\"\n      v-if=\"event\"\n      :eventProp=\"event\"\n      @add-to-comparaison=\"handleAddToComparaison\"\n      @update-events=\"$emit('update-events')\"\n    />\n  </div>\n</template>\n\n<script>\nvar $ = window.$\n\nimport {\n  RED_MARKER_IMAGE,\n  GREEN_MARKER_IMAGE,\n  BLUE_MARKER_IMAGE,\n  ARROW_DOWN_GREEN_IMAGE,\n  ARROW_DOWN_RED_IMAGE,\n} from '@/constants'\nimport InfoWindow from './info-window'\nimport EventData from '@/components/event/data'\n\nexport default {\n  components: { InfoWindow, EventData },\n  props: {\n    zoom: {\n      type: Number,\n      default: 12,\n    },\n    center: {\n      type: Object,\n    },\n    events: {\n      type: Array,\n      default() {\n        return []\n      },\n    },\n  },\n  data() {\n    return {\n      loaded: false,\n      infoWindow: {\n        position: { lat: 0, lng: 0 },\n        open: false,\n      },\n      event: {},\n    }\n  },\n  name: 'Maps',\n  mounted() {\n    this.$refs.mapRef.$mapPromise.then((map) => {\n      this.loaded = true\n      this.$emit('map-loaded', map)\n    })\n  },\n  methods: {\n    toggleModal() {\n      $('#myModal').modal('toggle')\n    },\n    openInfoWindowTemplate(marker) {\n      this.infoWindow.position = marker.position\n      this.infoWindow.open = true\n      this.event = marker.data\n    },\n    handleClick($event) {\n      const latitude = $event.latLng.lat()\n      const longitude = $event.latLng.lng()\n      this.$emit('position-marked', {\n        latitude,\n        longitude,\n      })\n      this.events.push({\n        position: { lat: latitude, lng: longitude },\n      })\n    },\n    handleViewEvent() {\n      this.$refs['event-data'].handleToggleModal()\n    },\n    handleAddToComparaison($event) {\n      this.$emit('add-to-comparaison', $event)\n    },\n    getMarkerIcon({ data }) {\n      const event = data\n      if (event && event.type === 'cultural') {\n        const { latitude, longitude } = this.$route.query\n        if (\n          latitude !== undefined &&\n          longitude !== undefined &&\n          event &&\n          event.latitude !== undefined &&\n          event.longitude !== undefined &&\n          event.longitude == longitude &&\n          event.latitude == latitude\n        ) {\n          return ARROW_DOWN_RED_IMAGE\n        }\n        return RED_MARKER_IMAGE\n      } else if (event && event.type !== undefined) {\n        const { latitude, longitude } = this.$route.query\n        if (\n          latitude !== undefined &&\n          longitude !== undefined &&\n          event.latitude !== undefined &&\n          event.longitude !== undefined &&\n          event.longitude == longitude &&\n          event.latitude == latitude\n        ) {\n          return ARROW_DOWN_GREEN_IMAGE\n        }\n        return GREEN_MARKER_IMAGE\n      }\n      return BLUE_MARKER_IMAGE\n    },\n  },\n}\n</script>\n\n<style scoped>\n.maps {\n  width: 100%;\n  height: 400px;\n}\n</style>\n"]}]}