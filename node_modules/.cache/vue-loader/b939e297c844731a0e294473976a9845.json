{"remainingRequest":"C:\\Users\\dell\\Desktop\\Full_Version\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\dell\\Desktop\\Full_Version\\src\\components\\navbar\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\dell\\Desktop\\Full_Version\\src\\components\\navbar\\index.vue","mtime":1659970463857},{"path":"C:\\Users\\dell\\Desktop\\Full_Version\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1659972864654},{"path":"C:\\Users\\dell\\Desktop\\Full_Version\\node_modules\\babel-loader\\lib\\index.js","mtime":1659972865660},{"path":"C:\\Users\\dell\\Desktop\\Full_Version\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1659972864654},{"path":"C:\\Users\\dell\\Desktop\\Full_Version\\node_modules\\vue-loader\\lib\\index.js","mtime":1659972866064}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmNvbnN0ICQgPSB3aW5kb3cuJDsKaW1wb3J0IGZpcmViYXNlIGZyb20gImZpcmViYXNlIjsKaW1wb3J0IHsgQlVTSU5FU1NfRE9NQUlOIH0gZnJvbSAiLi4vLi4vY29uc3RhbnRzIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB1c2VyOiB1bmRlZmluZWQsCiAgICAgIGZpbGVJbnB1dDogdW5kZWZpbmVkLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgZGVmYXVsdFBob3RvOiBwcm9jZXNzLmVudi5CQVNFX1VSTCArICJpbWFnZXMvYXZhdGFyLnBuZyIsCiAgICAgIGZpcnN0TmFtZTogdW5kZWZpbmVkLAogICAgICBsYXN0TmFtZTogdW5kZWZpbmVkLAogICAgICBlbWFpbDogdW5kZWZpbmVkLAogICAgICBzaG93VmVyaWZ5RW1haWw6IGZhbHNlLAogICAgfTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICBmaXJlYmFzZS5hdXRoKCkub25BdXRoU3RhdGVDaGFuZ2VkKCh1c2VyKSA9PiB7CiAgICAgIGlmICh1c2VyICE9IG51bGwpIHsKICAgICAgICB0aGlzLnVzZXIgPSB1c2VyOwogICAgICAgIGlmICgKICAgICAgICAgIC8vIHVzZXIuZW1haWwuaW5jbHVkZXMoIkBpbmZvcHJvLWRpZ2l0YWwuY29tIikgJiYKICAgICAgICAgIHVzZXIuZW1haWwuaW5jbHVkZXMoQlVTSU5FU1NfRE9NQUlOKSAmJgogICAgICAgICAgdXNlci5lbWFpbFZlcmlmaWVkID09PSBmYWxzZQogICAgICAgICkgewogICAgICAgICAgdGhpcy5zaG93VmVyaWZ5RW1haWwgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zb2xlLmxvZygiTm8gdXNlciIpOwogICAgICB9CiAgICB9KTsKICAgIHRoaXMuZmlsZUlucHV0ID0gdGhpcy4kcmVmc1siZmlsZUlucHV0Il07CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVVcGxvYWRQaG90bygkZXZlbnQpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgY29uc3QgZmlsZSA9ICRldmVudC50YXJnZXQuZmlsZXNbMF07CiAgICAgIGNvbnN0IHN0b3JhZ2VSZWYgPSBmaXJlYmFzZQogICAgICAgIC5zdG9yYWdlKCkKICAgICAgICAucmVmKCJwaG90b3MvIiArIHRoaXMudXNlci51aWQgKyAiLnBuZyIpOwogICAgICBjb25zdCB0YXNrID0gc3RvcmFnZVJlZi5wdXQoZmlsZSk7CiAgICAgIHRhc2sub24oCiAgICAgICAgInN0YXRlX2NoYW5nZWQiLAogICAgICAgICgpID0+IHsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHNuYXBzaG90KTsKICAgICAgICB9LAogICAgICAgIChlcnJvcikgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIH0sCiAgICAgICAgKCkgPT4gewogICAgICAgICAgdGFzay5zbmFwc2hvdC5yZWYuZ2V0RG93bmxvYWRVUkwoKS50aGVuKChwaG90b1VSTCkgPT4gewogICAgICAgICAgICBmaXJlYmFzZQogICAgICAgICAgICAgIC5hdXRoKCkKICAgICAgICAgICAgICAuY3VycmVudFVzZXIudXBkYXRlUHJvZmlsZSh7IHBob3RvVVJMIH0pCiAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgdGhpcy51c2VyID0gZmlyZWJhc2UuYXV0aCgpLmN1cnJlbnRVc2VyOwogICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICApOwogICAgfSwKICAgIGhhbmRsZUxvZ291dCgpIHsKICAgICAgaWYgKGNvbmZpcm0oIkFyZSB5b3Ugc3VyZSB0byBsb2dvdXQ/IikpIHsKICAgICAgICBmaXJlYmFzZQogICAgICAgICAgLmF1dGgoKQogICAgICAgICAgLnNpZ25PdXQoKQogICAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICAgIGFsZXJ0KCJPb3BzLCBhbiBlcnJvciBoYXBwZW5lZCEiKTsKICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVUb2dnbGVEcm9wZG93bigpIHsKICAgICAgJCgiI25hdmJhci1kcm9wZG93biIpLmNvbGxhcHNlKCJ0b2dnbGUiKTsKICAgIH0sCiAgICBoYW5kbGVUb2dnbGVUb29sYmFyKCkgewogICAgICAkKCIjbmF2YmFyUmVzcG9uc2l2ZSIpLmNvbGxhcHNlKCJ0b2dnbGUiKTsKICAgIH0sCiAgICBoYW5kbGVVcGxvYWRQaG90b0NsaWNrKCkgewogICAgICAkKCIjbmF2YmFyLWRyb3Bkb3duIikuY29sbGFwc2UoImhpZGUiKTsKICAgICAgdGhpcy5maWxlSW5wdXQuY2xpY2soKTsKICAgIH0sCiAgICBoYW5kbGVUb2dnbGVNb2RhbENsaWNrKCkgewogICAgICB0aGlzLiRlbWl0KCJ0b2dnbGUtbW9kYWwiKTsKICAgIH0sCiAgICBoYW5kbGVUb2dnbGVOYW1lTW9kYWxDbGljaygpIHsKICAgICAgJCgiI3VwZGF0ZU5hbWVNb2RhbCIpLm1vZGFsKCJ0b2dnbGUiKTsKICAgIH0sCiAgICBoYW5kbGVUb2dnbGVFbWFpbE1vZGFsQ2xpY2soKSB7CiAgICAgICQoIiN1cGRhdGVFbWFpbE1vZGFsIikubW9kYWwoInRvZ2dsZSIpOwogICAgfSwKICAgIGhhbmRsZVVwZGF0ZU5hbWUoKSB7CiAgICAgIGlmICh0aGlzLmZpcnN0TmFtZSAmJiB0aGlzLmxhc3ROYW1lKSB7CiAgICAgICAgZmlyZWJhc2UKICAgICAgICAgIC5hdXRoKCkKICAgICAgICAgIC5jdXJyZW50VXNlci51cGRhdGVQcm9maWxlKHsKICAgICAgICAgICAgZGlzcGxheU5hbWU6IHRoaXMuZmlyc3ROYW1lICsgIiAiICsgdGhpcy5sYXN0TmFtZSwKICAgICAgICAgIH0pCiAgICAgICAgICAudGhlbigoKSA9PiBsb2NhdGlvbi5yZWxvYWQoKSkKICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICBhbGVydCgiRXJyb3IgaGFwcGVuZWQhIik7CiAgICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGhhbmRsZVVwZGF0ZUVtYWlsKCkgewogICAgICBpZiAodGhpcy5lbWFpbCkgewogICAgICAgIGZpcmViYXNlCiAgICAgICAgICAuYXV0aCgpCiAgICAgICAgICAuY3VycmVudFVzZXIudXBkYXRlRW1haWwodGhpcy5lbWFpbCkKICAgICAgICAgIC50aGVuKCgpID0+IGxvY2F0aW9uLnJlbG9hZCgpKQogICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgIGFsZXJ0KCJFcnJvciBoYXBwZW5lZCEiKTsKICAgICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlVmVyaWZ5RW1haWwoKSB7CiAgICAgIC8vIGNvbnN0IHYgPSBmaXJlYmFzZS5hdXRoKCkuY3VycmVudFVzZXIuZW1haWxWZXJpZmllZDsKICAgICAgLy8gaWYgKHYpIGNvbnNvbGUubG9nKGZpcmViYXNlLmF1dGgoKS5jdXJyZW50VXNlcik7CiAgICAgIGNvbnN0IGVtYWlsID0gZmlyZWJhc2UuYXV0aCgpLmN1cnJlbnRVc2VyLmVtYWlsOwogICAgICBmaXJlYmFzZQogICAgICAgIC5hdXRoKCkKICAgICAgICAuY3VycmVudFVzZXIuc2VuZEVtYWlsVmVyaWZpY2F0aW9uKCkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICBhbGVydCgiVmVyaWZpY2F0aW9uIGVtYWlsIHNlbnQiKTsKICAgICAgICAgIC8vIFRoZSBsaW5rIHdhcyBzdWNjZXNzZnVsbHkgc2VudC4gSW5mb3JtIHRoZSB1c2VyLgogICAgICAgICAgLy8gU2F2ZSB0aGUgZW1haWwgbG9jYWxseSBzbyB5b3UgZG9uJ3QgbmVlZCB0byBhc2sgdGhlIHVzZXIgZm9yIGl0IGFnYWluCiAgICAgICAgICAvLyBpZiB0aGV5IG9wZW4gdGhlIGxpbmsgb24gdGhlIHNhbWUgZGV2aWNlLgogICAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCJlbWFpbEZvclNpZ25JbiIsIGVtYWlsKTsKICAgICAgICAgIC8vIC4uLgogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgdmFyIGVycm9yQ29kZSA9IGVycm9yLmNvZGU7CiAgICAgICAgICB2YXIgZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZTsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yQ29kZSk7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvck1lc3NhZ2UpOwogICAgICAgICAgLy8gLi4uCiAgICAgICAgfSk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/navbar","sourcesContent":["<template>\n  <!-- Navigation -->\n  <div>\n    <nav\n      class=\"navbar navbar-expand-lg navbar-dark bg-dark fixed-top\"\n      id=\"mainNav\"\n    >\n      <div class=\"container\">\n        <router-link to=\"/\"\n          ><li class=\"navbar-brand js-scroll-trigger text-white\">\n            <i class=\"fa fa-calendar mr-2\"></i>{{ $t(\"home.title\") }}\n          </li></router-link\n        >\n        <button\n          class=\"navbar-toggler\"\n          type=\"button\"\n          data-toggle=\"collapse\"\n          data-target=\"#navbarResponsive\"\n          aria-controls=\"navbarResponsive\"\n          aria-expanded=\"false\"\n          aria-label=\"Toggle navigation\"\n          @click=\"handleToggleToolbar\"\n        >\n          <span class=\"navbar-toggler-icon\"></span>\n        </button>\n        <div class=\"collapse navbar-collapse\" id=\"navbarResponsive\">\n          <ul class=\"navbar-nav ml-auto\">\n            <li class=\"nav-item\" v-if=\"!user\" @click=\"handleToggleModalClick\">\n              <a class=\"nav-link with-pointer js-scroll-trigger\">\n                {{ $t(\"navbar.login\") }}\n              </a>\n            </li>\n            <li class=\"nav-item dropdown\" v-if=\"user\">\n              <a\n                class=\"nav-link dropdown-toggle\"\n                href=\"#\"\n                id=\"navbarDropdown\"\n                role=\"button\"\n                data-toggle=\"navbar-dropdown\"\n                aria-haspopup=\"true\"\n                aria-expanded=\"false\"\n                @click=\"handleToggleDropdown\"\n              >\n                <i class=\"fa fa-circle-o-notch fa-spin mr-2\" v-if=\"loading\"></i>\n                <span v-if=\"!user.displayName && user.email\">{{\n                  user.email\n                }}</span>\n                <span v-if=\"user.displayName\">{{ user.displayName }}</span>\n                <img\n                  v-if=\"!user.photoURL\"\n                  :src=\"defaultPhoto\"\n                  class=\"avatar ml-2\"\n                />\n                <img\n                  v-if=\"user.photoURL\"\n                  :src=\"user.photoURL\"\n                  class=\"avatar ml-2\"\n                />\n              </a>\n              <div\n                class=\"dropdown-menu\"\n                aria-labelledby=\"navbarDropdown\"\n                id=\"navbar-dropdown\"\n              >\n                <a\n                  class=\"dropdown-item with-pointer\"\n                  role=\"button\"\n                  @click=\"handleToggleNameModalClick\"\n                  ><i class=\"fa fa-pencil mr-3\"></i>\n                  {{ $t(\"navbar.updateName\") }}\n                </a>\n                <div class=\"dropdown-divider\"></div>\n                <a\n                  class=\"dropdown-item with-pointer\"\n                  role=\"button\"\n                  @click=\"handleLogout\"\n                  ><i class=\"fa fa-sign-out mr-3\"></i> {{ $t(\"navbar.logout\") }}\n                </a>\n              </div>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </nav>\n    <input\n      type=\"file\"\n      id=\"input-upload\"\n      ref=\"fileInput\"\n      @change=\"handleUploadPhoto\"\n    />\n    <div\n      class=\"modal fade\"\n      id=\"updateNameModal\"\n      tabindex=\"-1\"\n      role=\"dialog\"\n      aria-labelledby=\"updateNameModalLabel\"\n      aria-hidden=\"true\"\n    >\n      <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title\" id=\"updateNameModalLabel\">\n              Update your name\n            </h5>\n            <button\n              @click=\"handleToggleNameModalClick\"\n              type=\"button\"\n              class=\"close\"\n              data-dismiss=\"modal\"\n              aria-label=\"Close\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div class=\"modal-body\">\n            <form>\n              <div class=\"form-row\">\n                <div class=\"form-group col-md-6\">\n                  <label for=\"firstName\">First Name</label>\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    id=\"inputFirstName\"\n                    placeholder=\"First Name\"\n                    v-model=\"firstName\"\n                  />\n                </div>\n                <div class=\"form-group col-md-6\">\n                  <label for=\"inputLastName\">Last Name</label>\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    id=\"inputLastName\"\n                    placeholder=\"Last Name\"\n                    v-model=\"lastName\"\n                  />\n                </div>\n              </div>\n            </form>\n          </div>\n          <div class=\"modal-footer\">\n            <button\n              type=\"button\"\n              class=\"btn btn-secondary\"\n              data-dismiss=\"modal\"\n              @click=\"handleToggleNameModalClick\"\n            >\n              Close\n            </button>\n            <button\n              type=\"button\"\n              class=\"btn btn-primary\"\n              @click=\"handleUpdateName\"\n            >\n              Update name\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div\n      class=\"modal fade\"\n      id=\"updateEmailModal\"\n      tabindex=\"-1\"\n      role=\"dialog\"\n      aria-labelledby=\"updateEmailModalLabel\"\n      aria-hidden=\"true\"\n    >\n      <div class=\"modal-dialog\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">\n            <h5 class=\"modal-title\" id=\"updateEmailModalLabel\">\n              Update your email\n            </h5>\n            <button\n              @click=\"handleToggleEmailModalClick\"\n              type=\"button\"\n              class=\"close\"\n              data-dismiss=\"modal\"\n              aria-label=\"Close\"\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div class=\"modal-body\">\n            <form>\n              <div class=\"form-row\">\n                <div class=\"form-group col-md-6\">\n                  <label for=\"email\">Email</label>\n                  <input\n                    type=\"email\"\n                    class=\"form-control\"\n                    id=\"inputEmail\"\n                    placeholder=\"New Email\"\n                    v-model=\"email\"\n                  />\n                </div>\n              </div>\n            </form>\n          </div>\n          <div class=\"modal-footer\">\n            <button\n              type=\"button\"\n              class=\"btn btn-secondary\"\n              data-dismiss=\"modal\"\n              @click=\"handleToggleEmailModalClick\"\n            >\n              Close\n            </button>\n            <button\n              type=\"button\"\n              class=\"btn btn-primary\"\n              @click=\"handleUpdateEmail\"\n            >\n              Update email\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nconst $ = window.$;\nimport firebase from \"firebase\";\nimport { BUSINESS_DOMAIN } from \"../../constants\";\nexport default {\n  data() {\n    return {\n      user: undefined,\n      fileInput: undefined,\n      loading: false,\n      defaultPhoto: process.env.BASE_URL + \"images/avatar.png\",\n      firstName: undefined,\n      lastName: undefined,\n      email: undefined,\n      showVerifyEmail: false,\n    };\n  },\n  mounted() {\n    firebase.auth().onAuthStateChanged((user) => {\n      if (user != null) {\n        this.user = user;\n        if (\n          // user.email.includes(\"@infopro-digital.com\") &&\n          user.email.includes(BUSINESS_DOMAIN) &&\n          user.emailVerified === false\n        ) {\n          this.showVerifyEmail = true;\n        }\n      } else {\n        console.log(\"No user\");\n      }\n    });\n    this.fileInput = this.$refs[\"fileInput\"];\n  },\n  methods: {\n    handleUploadPhoto($event) {\n      this.loading = true;\n      const file = $event.target.files[0];\n      const storageRef = firebase\n        .storage()\n        .ref(\"photos/\" + this.user.uid + \".png\");\n      const task = storageRef.put(file);\n      task.on(\n        \"state_changed\",\n        () => {\n          // console.log(snapshot);\n        },\n        (error) => {\n          console.log(error);\n        },\n        () => {\n          task.snapshot.ref.getDownloadURL().then((photoURL) => {\n            firebase\n              .auth()\n              .currentUser.updateProfile({ photoURL })\n              .then(() => {\n                this.user = firebase.auth().currentUser;\n                this.loading = false;\n                location.reload();\n              })\n              .catch((error) => {\n                this.loading = false;\n                console.log(error);\n              });\n          });\n        }\n      );\n    },\n    handleLogout() {\n      if (confirm(\"Are you sure to logout?\")) {\n        firebase\n          .auth()\n          .signOut()\n          .then(() => {\n            location.reload();\n          })\n          .catch((error) => {\n            alert(\"Oops, an error happened!\");\n            console.log(error);\n          });\n      }\n    },\n    handleToggleDropdown() {\n      $(\"#navbar-dropdown\").collapse(\"toggle\");\n    },\n    handleToggleToolbar() {\n      $(\"#navbarResponsive\").collapse(\"toggle\");\n    },\n    handleUploadPhotoClick() {\n      $(\"#navbar-dropdown\").collapse(\"hide\");\n      this.fileInput.click();\n    },\n    handleToggleModalClick() {\n      this.$emit(\"toggle-modal\");\n    },\n    handleToggleNameModalClick() {\n      $(\"#updateNameModal\").modal(\"toggle\");\n    },\n    handleToggleEmailModalClick() {\n      $(\"#updateEmailModal\").modal(\"toggle\");\n    },\n    handleUpdateName() {\n      if (this.firstName && this.lastName) {\n        firebase\n          .auth()\n          .currentUser.updateProfile({\n            displayName: this.firstName + \" \" + this.lastName,\n          })\n          .then(() => location.reload())\n          .catch((error) => {\n            console.log(error);\n            alert(\"Error happened!\");\n          });\n      }\n    },\n    handleUpdateEmail() {\n      if (this.email) {\n        firebase\n          .auth()\n          .currentUser.updateEmail(this.email)\n          .then(() => location.reload())\n          .catch((error) => {\n            console.log(error);\n            alert(\"Error happened!\");\n          });\n      }\n    },\n    handleVerifyEmail() {\n      // const v = firebase.auth().currentUser.emailVerified;\n      // if (v) console.log(firebase.auth().currentUser);\n      const email = firebase.auth().currentUser.email;\n      firebase\n        .auth()\n        .currentUser.sendEmailVerification()\n        .then(() => {\n          alert(\"Verification email sent\");\n          // The link was successfully sent. Inform the user.\n          // Save the email locally so you don't need to ask the user for it again\n          // if they open the link on the same device.\n          window.localStorage.setItem(\"emailForSignIn\", email);\n          // ...\n        })\n        .catch((error) => {\n          var errorCode = error.code;\n          var errorMessage = error.message;\n          console.log(errorCode);\n          console.log(errorMessage);\n          // ...\n        });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.with-pointer {\n  cursor: pointer;\n}\n.avatar {\n  width: 24px;\n  height: 24px;\n  border-radius: 12px;\n}\n</style>\n"]}]}