{"remainingRequest":"C:\\Users\\dell\\Desktop\\Full_Version\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\dell\\Desktop\\Full_Version\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\dell\\Desktop\\Full_Version\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\dell\\Desktop\\Full_Version\\src\\components\\featured\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\dell\\Desktop\\Full_Version\\src\\components\\featured\\index.vue","mtime":1659969786602},{"path":"C:\\Users\\dell\\Desktop\\Full_Version\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1659972864654},{"path":"C:\\Users\\dell\\Desktop\\Full_Version\\node_modules\\babel-loader\\lib\\index.js","mtime":1659972865660},{"path":"C:\\Users\\dell\\Desktop\\Full_Version\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1659972864654},{"path":"C:\\Users\\dell\\Desktop\\Full_Version\\node_modules\\vue-loader\\lib\\index.js","mtime":1659972866064}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvZGVsbC9EZXNrdG9wL0Z1bGxfVmVyc2lvbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBTZWFyY2hGb3JtIGZyb20gIkAvY29tcG9uZW50cy9mZWF0dXJlZC9tYXBzL3NlYXJjaC1mb3JtIjsKaW1wb3J0IE1hcHMgZnJvbSAiQC9jb21wb25lbnRzL2ZlYXR1cmVkL21hcHMvaW5kZXgudnVlIjsKaW1wb3J0IGZpcmViYXNlIGZyb20gImZpcmViYXNlIjsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICB6b29tUHJvcDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZAogICAgfSwKICAgIGNlbnRlclByb3A6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiB1bmRlZmluZWQKICAgIH0sCiAgICB0aGVtZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICJiZy1wcmltYXJ5IHRleHQtd2hpdGUiCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbWFwOiBudWxsLAogICAgICBsb25naXR1ZGU6IG51bGwsCiAgICAgIGxhdGl0dWRlOiBudWxsLAogICAgICBldmVudHM6IFtdLAogICAgICBjZW50ZXI6IHsKICAgICAgICBsYXQ6IDM2Ljc5NTE4NzIsCiAgICAgICAgbG5nOiAxMC4xOTQxMjQ4CiAgICAgIH0sCiAgICAgIHpvb206IDEyLAogICAgICBnbWFyYTogZmFsc2UKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBTZWFyY2hGb3JtOiBTZWFyY2hGb3JtLAogICAgTWFwczogTWFwcwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdmFyIGZpcmVzdG9yZSA9IGZpcmViYXNlLmZpcmVzdG9yZSgpOwogICAgdmFyIGNvbGxlY3Rpb24gPSBmaXJlc3RvcmUuY29sbGVjdGlvbigiZXZlbnRzIik7CiAgICBjb2xsZWN0aW9uLmdldCgpLnRoZW4oZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgdmFyIGRvY3MgPSBfcmVmLmRvY3M7CiAgICAgIGRvY3MuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICB2YXIgcG9zaXRpb24gPSB7CiAgICAgICAgICBsYXQ6IGV2ZW50LmRhdGEoKS5sYXRpdHVkZSwKICAgICAgICAgIGxuZzogZXZlbnQuZGF0YSgpLmxvbmdpdHVkZQogICAgICAgIH07CgogICAgICAgIHZhciBkYXRhID0gX29iamVjdFNwcmVhZCh7fSwgZXZlbnQuZGF0YSgpKTsKCiAgICAgICAgdmFyIHN1YiA9IHsKICAgICAgICAgIHBvc2l0aW9uOiBwb3NpdGlvbiwKICAgICAgICAgIGRhdGE6IGRhdGEKICAgICAgICB9OwoKICAgICAgICBfdGhpcy5ldmVudHMucHVzaChzdWIpOwogICAgICB9KTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICByZXR1cm4gY29uc29sZS5sb2coZXJyb3IpOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVNYXBMb2FkZWQ6IGZ1bmN0aW9uIGhhbmRsZU1hcExvYWRlZChtYXApIHsKICAgICAgdGhpcy5tYXAgPSBtYXA7CgogICAgICBpZiAodGhpcy5jZW50ZXJQcm9wICE9PSB1bmRlZmluZWQpIHsKICAgICAgICB0aGlzLmNlbnRlciA9IHRoaXMuY2VudGVyUHJvcDsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuem9vbVByb3AgIT09IHVuZGVmaW5lZCkgewogICAgICAgIHRoaXMuem9vbSA9IHRoaXMuem9vbVByb3A7CiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVQbGFjZUNoYW5nZTogZnVuY3Rpb24gaGFuZGxlUGxhY2VDaGFuZ2UocGxhY2UpIHsKICAgICAgdGhpcy5jZW50ZXIgPSBwbGFjZS5jZW50ZXI7CiAgICAgIHRoaXMuem9vbSA9IHBsYWNlLnpvb207CiAgICB9LAogICAgaGFuZGxlUG9zaXRpb25NYXJraW5nOiBmdW5jdGlvbiBoYW5kbGVQb3NpdGlvbk1hcmtpbmcocG9zaXRpb24pIHsKICAgICAgdGhpcy5sb25naXR1ZGUgPSBwb3NpdGlvbi5sb25naXR1ZGU7CiAgICAgIHRoaXMubGF0aXR1ZGUgPSBwb3NpdGlvbi5sYXRpdHVkZTsKICAgICAgdGhpcy5nbWFyYSA9IHRydWU7CiAgICB9LAogICAgaGFuZGxlQWRkVG9Db21wYXJhaXNvbjogZnVuY3Rpb24gaGFuZGxlQWRkVG9Db21wYXJhaXNvbigkZXZlbnQpIHsKICAgICAgdGhpcy4kZW1pdCgiYWRkLXRvLWNvbXBhcmFpc29uIiwgJGV2ZW50KTsKICAgIH0sCiAgICBoYW5kbGVVcGRhdGVFdmVudHM6IGZ1bmN0aW9uIGhhbmRsZVVwZGF0ZUV2ZW50cygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgZmlyZXN0b3JlID0gZmlyZWJhc2UuZmlyZXN0b3JlKCk7CiAgICAgIHZhciBjb2xsZWN0aW9uID0gZmlyZXN0b3JlLmNvbGxlY3Rpb24oImV2ZW50cyIpOwogICAgICBjb2xsZWN0aW9uLmdldCgpLnRoZW4oZnVuY3Rpb24gKF9yZWYyKSB7CiAgICAgICAgdmFyIGRvY3MgPSBfcmVmMi5kb2NzOwogICAgICAgIGRvY3MuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICAgIHZhciBwb3NpdGlvbiA9IHsKICAgICAgICAgICAgbGF0OiBldmVudC5kYXRhKCkubGF0aXR1ZGUsCiAgICAgICAgICAgIGxuZzogZXZlbnQuZGF0YSgpLmxvbmdpdHVkZQogICAgICAgICAgfTsKCiAgICAgICAgICB2YXIgZGF0YSA9IF9vYmplY3RTcHJlYWQoe30sIGV2ZW50LmRhdGEoKSk7CgogICAgICAgICAgdmFyIHN1YiA9IHsKICAgICAgICAgICAgcG9zaXRpb246IHBvc2l0aW9uLAogICAgICAgICAgICBkYXRhOiBkYXRhCiAgICAgICAgICB9OwoKICAgICAgICAgIF90aGlzMi5ldmVudHMucHVzaChzdWIpOwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <header :class=\"theme\">\n    <div class=\"container\">\n      <div class=\"col-md-8 mb-3\">\n        <p>{{ $t(\"featured.text\") }}</p>\n\n        <search-form v-if=\"map\" @place-changed=\"handlePlaceChange\" />\n      </div>\n      <div class=\"col-md-12\">\n        <maps\n          :center=\"center\"\n          :zoom=\"zoom\"\n          :key=\"center.lat\"\n          :events=\"events\"\n          @map-loaded=\"handleMapLoaded\"\n          @position-marked=\"handlePositionMarking\"\n          @add-to-comparaison=\"handleAddToComparaison\"\n          @update-events=\"handleUpdateEvents\"\n        />\n      </div>\n      <p class=\"lead col-md-12 mt-2\">\n        <i class=\"fa fa-map-marker text-success mr-1\"></i>\n        <small>{{ $t(\"featured.legend_sport\") }}</small>\n        <i class=\"fa fa-map-marker text-danger ml-4 mr-1\"></i>\n        <small>{{ $t(\"featured.legend_cultural\") }}</small>\n      </p>\n    </div>\n  </header>\n</template>\n\n<script>\nimport SearchForm from \"@/components/featured/maps/search-form\";\nimport Maps from \"@/components/featured/maps/index.vue\";\nimport firebase from \"firebase\";\nexport default {\n  props: {\n    zoomProp: {\n      type: Number,\n      default: undefined,\n    },\n    centerProp: {\n      type: Object,\n      default: undefined,\n    },\n    theme: {\n      type: String,\n      default: \"bg-primary text-white\"\n    }\n  },\n  data() {\n    return {\n      map: null,\n      longitude: null,\n      latitude: null,\n      events: [],\n      center: { lat: 36.7951872, lng: 10.1941248 },\n      zoom: 12,\n      gmara: false\n    };\n  },\n  components: {\n    SearchForm,\n    Maps,\n  },\n  mounted() {\n    const firestore = firebase.firestore();\n    const collection = firestore.collection(\"events\");\n    collection\n      .get()\n      .then(({ docs }) => {\n        docs.forEach((event) => {\n          const position = {\n            lat: event.data().latitude,\n            lng: event.data().longitude,\n          };\n          const data = {\n            ...event.data(),\n          };\n          const sub = { position, data };\n          this.events.push(sub);\n        });\n      })\n      .catch((error) => console.log(error));\n  },\n  methods: {\n    handleMapLoaded(map) {\n      this.map = map;\n      if (this.centerProp !== undefined) {\n        this.center = this.centerProp;\n      }\n      if (this.zoomProp !== undefined) {\n        this.zoom = this.zoomProp;\n      }\n    },\n    handlePlaceChange(place) {\n      this.center = place.center;\n      this.zoom = place.zoom;\n    },\n    handlePositionMarking(position) {\n      this.longitude = position.longitude;\n      this.latitude = position.latitude;\n      this.gmara = true\n    },\n    handleAddToComparaison($event) {\n      this.$emit(\"add-to-comparaison\", $event);\n    },\n    handleUpdateEvents() {\n      const firestore = firebase.firestore();\n      const collection = firestore.collection(\"events\");\n      collection\n        .get()\n        .then(({ docs }) => {\n          docs.forEach((event) => {\n            const position = {\n              lat: event.data().latitude,\n              lng: event.data().longitude,\n            };\n            const data = {\n              ...event.data(),\n            };\n            const sub = { position, data };\n            this.events.push(sub);\n          });\n        })\n        .catch((error) => console.log(error));\n    },\n  },\n};\n</script>\n<style scoped>\n.bg-wael {\n  background-color: gray;\n}\n</style>"],"sourceRoot":"src/components/featured"}]}