{"remainingRequest":"C:\\Users\\dell\\Desktop\\Full_Version\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\dell\\Desktop\\Full_Version\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\dell\\Desktop\\Full_Version\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\dell\\Desktop\\Full_Version\\src\\views\\events\\new\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\dell\\Desktop\\Full_Version\\src\\views\\events\\new\\index.vue","mtime":1659969786602},{"path":"C:\\Users\\dell\\Desktop\\Full_Version\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1659972864654},{"path":"C:\\Users\\dell\\Desktop\\Full_Version\\node_modules\\babel-loader\\lib\\index.js","mtime":1659972865660},{"path":"C:\\Users\\dell\\Desktop\\Full_Version\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1659972864654},{"path":"C:\\Users\\dell\\Desktop\\Full_Version\\node_modules\\vue-loader\\lib\\index.js","mtime":1659972866064}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvZGVsbC9EZXNrdG9wL0Z1bGxfVmVyc2lvbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBOYXZiYXIgZnJvbSAnQC9jb21wb25lbnRzL25hdmJhcic7CmltcG9ydCBGZWF0dXJlZCBmcm9tICdAL2NvbXBvbmVudHMvZmVhdHVyZWQnOwppbXBvcnQgRXZlbnRGb3JtIGZyb20gJ0AvY29tcG9uZW50cy9mb3Jtcy9ldmVudCc7CmltcG9ydCBBcHBGb290ZXIgZnJvbSAnQC9jb21wb25lbnRzL2FwcC1mb290ZXInOwppbXBvcnQgZmlyZWJhc2UgZnJvbSAnZmlyZWJhc2UnOwppbXBvcnQgU3dhbCBmcm9tICdzd2VldGFsZXJ0Mic7CmltcG9ydCB7IHJhbmRvbVN0cmluZyB9IGZyb20gJ0AvdXRpbHMnOwppbXBvcnQgeyBCVVNJTkVTU19ET01BSU4gfSBmcm9tICcuLi8uLi8uLi9jb25zdGFudHMnOwppbXBvcnQgRnVsbFBhZ2VMb2FkZXIgZnJvbSAnQC9jb21wb25lbnRzL2xvYWRlcnMvZnVsbC1wYWdlLWxvYWRlcic7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTmV3RXZlbnQnLAogIGNvbXBvbmVudHM6IHsKICAgIE5hdmJhcjogTmF2YmFyLAogICAgRmVhdHVyZWQ6IEZlYXR1cmVkLAogICAgRXZlbnRGb3JtOiBFdmVudEZvcm0sCiAgICBBcHBGb290ZXI6IEFwcEZvb3RlciwKICAgIEZ1bGxQYWdlTG9hZGVyOiBGdWxsUGFnZUxvYWRlcgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNob3dMb2FkZXI6IHRydWUsCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBpc0VtcGxveWVlOiBmYWxzZQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy5zaG93TG9hZGVyID0gZmFsc2U7CiAgICB9LCAxMDApOwoKICAgIGlmICghZmlyZWJhc2UuYXV0aCgpLmN1cnJlbnRVc2VyKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAnLycKICAgICAgfSk7CiAgICB9CgogICAgaWYgKGZpcmViYXNlLmF1dGgoKS5jdXJyZW50VXNlci5lbWFpbC5pbmNsdWRlcyhCVVNJTkVTU19ET01BSU4pICYmICFmaXJlYmFzZS5hdXRoKCkuY3VycmVudFVzZXIuZW1haWxWZXJpZmllZCkgewogICAgICBhbGVydCgnUGxlYXNlIHZlcmlmeSB5b3VyIGVtYWlsJyk7CiAgICAgIGxvY2F0aW9uLnJlcGxhY2UoJy8nKTsKICAgIH0KCiAgICBpZiAoZmlyZWJhc2UuYXV0aCgpLmN1cnJlbnRVc2VyLmVtYWlsLmluY2x1ZGVzKEJVU0lORVNTX0RPTUFJTikgJiYgZmlyZWJhc2UuYXV0aCgpLmN1cnJlbnRVc2VyLmVtYWlsVmVyaWZpZWQpIHsKICAgICAgdGhpcy5pc0VtcGxveWVlID0gdHJ1ZTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZVN1Ym1pdDogZnVuY3Rpb24gaGFuZGxlU3VibWl0KGRhdGEpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgZmVhdHVyZWQgPSB0aGlzLiRyZWZzWydmZWF0dXJlZCddOwogICAgICB2YXIgbGF0aXR1ZGUgPSBmZWF0dXJlZC5sYXRpdHVkZSwKICAgICAgICAgIGxvbmdpdHVkZSA9IGZlYXR1cmVkLmxvbmdpdHVkZTsKCiAgICAgIGlmICghbGF0aXR1ZGUgfHwgIWxvbmdpdHVkZSkgewogICAgICAgIGFsZXJ0KCdQbGVhc2UgcGljayBhIGxvY2F0aW9uIG9uIHRoZSBtYXAnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgX2ZpcmViYXNlJGF1dGgkY3VycmVuID0gZmlyZWJhc2UuYXV0aCgpLmN1cnJlbnRVc2VyLAogICAgICAgICAgICBlbWFpbCA9IF9maXJlYmFzZSRhdXRoJGN1cnJlbi5lbWFpbCwKICAgICAgICAgICAgZGlzcGxheU5hbWUgPSBfZmlyZWJhc2UkYXV0aCRjdXJyZW4uZGlzcGxheU5hbWUsCiAgICAgICAgICAgIHBob3RvVVJMID0gX2ZpcmViYXNlJGF1dGgkY3VycmVuLnBob3RvVVJMLAogICAgICAgICAgICB1aWQgPSBfZmlyZWJhc2UkYXV0aCRjdXJyZW4udWlkOwogICAgICAgIHZhciBpZCA9IHJhbmRvbVN0cmluZygxNSk7CgogICAgICAgIHZhciBldmVudCA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZGF0YSksIHt9LCB7CiAgICAgICAgICBlbWFpbDogZW1haWwsCiAgICAgICAgICBkaXNwbGF5TmFtZTogZGlzcGxheU5hbWUsCiAgICAgICAgICBwaG90b1VSTDogcGhvdG9VUkwsCiAgICAgICAgICB1aWQ6IHVpZCwKICAgICAgICAgIGxhdGl0dWRlOiBsYXRpdHVkZSwKICAgICAgICAgIGxvbmdpdHVkZTogbG9uZ2l0dWRlLAogICAgICAgICAgaWQ6IGlkCiAgICAgICAgfSk7CgogICAgICAgIHZhciBmaXJlc3RvcmUgPSBmaXJlYmFzZS5maXJlc3RvcmUoKTsKICAgICAgICB2YXIgY29sbGVjdGlvbiA9IGZpcmVzdG9yZS5jb2xsZWN0aW9uKCdldmVudHMnKTsKICAgICAgICBjb2xsZWN0aW9uLmRvYyhpZCkuc2V0KGV2ZW50KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMi5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICB0aXRsZTogJ0V2ZW50IGNyZWF0ZWQnLAogICAgICAgICAgICB0ZXh0OiAnRG8geW91IHdhbnQgdG8gdmlldyBpdHMgZGV0YWlscz8nLAogICAgICAgICAgICBpY29uOiAnc3VjY2VzcycsCiAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsCiAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAnVmlldyBkZXRhaWxzJywKICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ0Rpc21pc3MnCiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgICAgaWYgKHJlc3VsdC52YWx1ZSkgewogICAgICAgICAgICAgIF90aGlzMi4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgcGF0aDogIi8/bGF0aXR1ZGU9Ii5jb25jYXQoZmVhdHVyZWQubGF0aXR1ZGUsICImbG9uZ2l0dWRlPSIpLmNvbmNhdChmZWF0dXJlZC5sb25naXR1ZGUpCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbyh7CiAgICAgICAgICAgICAgICB0b3A6IDAsCiAgICAgICAgICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCcKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBfdGhpczIubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgU3dhbC5maXJlKCdPb3BzLi4uJywgJ1NvbWV0aGluZyB3ZW50IHdyb25nIScsICdlcnJvcicpOwogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <full-page-loader v-show=\"showLoader\" />\n    <div v-show=\"!showLoader\">\n      <navbar />\n      <featured ref=\"featured\" theme=\"bg-wael text-white\" />\n      <event-form\n        @submit=\"handleSubmit\"\n        :loading=\"loading\"\n        :isEmployee=\"isEmployee\"\n      />\n      <app-footer />\n    </div>\n  </div>\n</template>\n\n<script>\nimport Navbar from '@/components/navbar'\nimport Featured from '@/components/featured'\nimport EventForm from '@/components/forms/event'\nimport AppFooter from '@/components/app-footer'\nimport firebase from 'firebase'\nimport Swal from 'sweetalert2'\nimport { randomString } from '@/utils'\nimport { BUSINESS_DOMAIN } from '../../../constants'\nimport FullPageLoader from '@/components/loaders/full-page-loader'\nexport default {\n  name: 'NewEvent',\n  components: {\n    Navbar,\n    Featured,\n    EventForm,\n    AppFooter,\n    FullPageLoader,\n  },\n  data() {\n    return { showLoader: true, loading: false, isEmployee: false }\n  },\n  mounted() {\n    setTimeout(() => {\n      this.showLoader = false\n    }, 100)\n    if (!firebase.auth().currentUser) {\n      this.$router.push({ path: '/' })\n    }\n    if (\n      firebase.auth().currentUser.email.includes(BUSINESS_DOMAIN) &&\n      !firebase.auth().currentUser.emailVerified\n    ) {\n      alert('Please verify your email')\n      location.replace('/')\n    }\n    if (\n      firebase.auth().currentUser.email.includes(BUSINESS_DOMAIN) &&\n      firebase.auth().currentUser.emailVerified\n    ) {\n      this.isEmployee = true\n    }\n  },\n  methods: {\n    handleSubmit(data) {\n      const featured = this.$refs['featured']\n      const { latitude, longitude } = featured\n      if (!latitude || !longitude) {\n        alert('Please pick a location on the map')\n      } else {\n        const {\n          email,\n          displayName,\n          photoURL,\n          uid,\n        } = firebase.auth().currentUser\n        const id = randomString(15)\n        const event = {\n          ...data,\n          email,\n          displayName,\n          photoURL,\n          uid,\n          latitude,\n          longitude,\n          id,\n        }\n        const firestore = firebase.firestore()\n        const collection = firestore.collection('events')\n        collection\n          .doc(id)\n          .set(event)\n          .then(() => {\n            this.loading = false\n            Swal.fire({\n              title: 'Event created',\n              text: 'Do you want to view its details?',\n              icon: 'success',\n              showCancelButton: true,\n              confirmButtonText: 'View details',\n              cancelButtonText: 'Dismiss',\n            }).then((result) => {\n              if (result.value) {\n                this.$router.push({\n                  path: `/?latitude=${featured.latitude}&longitude=${featured.longitude}`,\n                })\n                window.scrollTo({ top: 0, behavior: 'smooth' })\n              }\n            })\n          })\n          .catch((error) => {\n            this.loading = false\n            Swal.fire('Oops...', 'Something went wrong!', 'error')\n            console.log(error)\n          })\n      }\n    },\n  },\n}\n</script>\n<style scoped>\nheader {\n  padding: 156px 0 100px;\n}\n\nsection {\n  padding: 150px 0;\n}\n</style>\n"],"sourceRoot":"src/views/events/new"}]}